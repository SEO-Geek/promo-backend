import{r as u,l as C,c as r,b as e,d as _,a as M,F as V,p as O,w as b,f as d,v as g,q as c,t as n,m as v,h as j,k as N,o as a,i as B,n as m,j as A,g as D}from"./index-1761485338888.js";import{_ as L}from"./_plugin-vue_export-helper-1761485338888.js";const T={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"},U={class:"bg-gradient-to-r from-indigo-600 to-purple-600 shadow-lg"},S={class:"container mx-auto px-6 py-8"},$={class:"flex items-center justify-between"},F={class:"container mx-auto px-6 py-8"},P={key:0,class:"flex justify-center items-center py-20"},q={key:1,class:"text-center py-20"},R={class:"bg-white rounded-2xl shadow-xl p-12 max-w-md mx-auto"},z={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},I={class:"p-6"},E={class:"flex items-center justify-between mb-4"},G={class:"text-xs text-gray-400"},H={class:"text-xl font-bold text-gray-900 mb-2 group-hover:text-indigo-600 transition-colors"},Y={class:"text-gray-600 text-sm mb-4 line-clamp-2"},J={class:"space-y-2 mb-6"},K={class:"flex items-center text-sm"},Q={class:"flex items-center text-sm text-gray-600"},W={class:"truncate"},X={class:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Z={class:"p-8"},ee={class:"flex items-center justify-between mb-6"},te={class:"flex space-x-4 pt-4"},oe=["disabled"],se={__name:"OffersView",setup(le){const y=j(),f=u([]),x=u(!1),l=u(!1),p=u(!1),s=u({name:"",description:"",destination_url:"",affiliate_slug:"",offer_type:"affiliate",status:"draft"}),w=async()=>{x.value=!0;try{f.value=await v.offers.getOffers()}catch(i){console.error("Failed to fetch offers:",i)}finally{x.value=!1}},k=async()=>{p.value=!0;try{const i=await v.offers.createOffer(s.value);f.value.unshift(i),l.value=!1,s.value={name:"",description:"",destination_url:"",affiliate_slug:"",offer_type:"affiliate",status:"draft"},y.push(`/offers/${i.id}`)}catch(i){console.error("Failed to create offer:",i),alert("Failed to create offer. Please try again.")}finally{p.value=!1}};return C(()=>{w()}),(i,t)=>{const h=N("router-link");return a(),r("div",T,[e("div",U,[e("div",S,[e("div",$,[t[12]||(t[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-white"},"Promotional Offers"),e("p",{class:"text-indigo-100 mt-1"},"Manage your promotional offers and campaigns")],-1)),e("button",{onClick:t[0]||(t[0]=o=>l.value=!0),class:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-semibold hover:bg-indigo-50 transition-all duration-200 shadow-md hover:shadow-xl flex items-center space-x-2"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"New Offer",-1)])])])])]),e("div",F,[x.value?(a(),r("div",P,[...t[13]||(t[13]=[e("div",{class:"text-center"},[e("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-4 border-indigo-600"}),e("p",{class:"mt-4 text-gray-600 font-medium"},"Loading offers...")],-1)])])):f.value.length===0?(a(),r("div",q,[e("div",R,[t[15]||(t[15]=M('<div class="w-20 h-20 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6" data-v-7b076c70><svg class="w-10 h-10 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7b076c70><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-7b076c70></path></svg></div><h3 class="text-2xl font-bold text-gray-900 mb-2" data-v-7b076c70>No offers yet</h3><p class="text-gray-600 mb-6" data-v-7b076c70>Get started by creating your first promotional offer.</p>',3)),e("button",{onClick:t[1]||(t[1]=o=>l.value=!0),class:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:shadow-xl transition-all duration-200 inline-flex items-center space-x-2"},[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"Create Your First Offer",-1)])])])])):(a(),r("div",z,[(a(!0),r(V,null,O(f.value,o=>(a(),r("div",{key:o.id,class:"bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden group"},[t[19]||(t[19]=e("div",{class:"h-2 bg-gradient-to-r from-indigo-500 to-purple-500"},null,-1)),e("div",I,[e("div",E,[e("span",{class:m(["px-3 py-1 rounded-full text-xs font-semibold",o.status==="active"?"bg-green-100 text-green-800":o.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},n(o.status),3),e("span",G,"ID: "+n(o.id),1)]),e("h3",H,n(o.name),1),e("p",Y,n(o.description||"No description"),1),e("div",J,[e("div",K,[t[16]||(t[16]=e("svg",{class:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),e("span",{class:m(["px-2 py-1 rounded text-xs font-medium",{"bg-purple-100 text-purple-800":o.offer_type==="review","bg-blue-100 text-blue-800":o.offer_type==="affiliate","bg-pink-100 text-pink-800":o.offer_type==="donation"}])},n(o.offer_type||"affiliate"),3)]),e("div",Q,[t[17]||(t[17]=e("svg",{class:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1)),e("span",W,n(o.affiliate_slug||"No slug"),1)])]),B(h,{to:`/offers/${o.id}`,class:"block w-full text-center px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-200"},{default:A(()=>[...t[18]||(t[18]=[D(" View Details ",-1)])]),_:1},8,["to"])])]))),128))]))]),l.value?(a(),r("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:t[10]||(t[10]=b(o=>l.value=!1,["self"]))},[e("div",X,[e("div",Z,[e("div",ee,[t[21]||(t[21]=e("h3",{class:"text-2xl font-bold text-gray-900"},"Create New Offer",-1)),e("button",{onClick:t[2]||(t[2]=o=>l.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...t[20]||(t[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:b(k,["prevent"]),class:"space-y-6"},[e("div",null,[t[22]||(t[22]=e("label",{for:"name",class:"block text-sm font-semibold text-gray-700 mb-2"}," Offer Name * ",-1)),d(e("input",{id:"name","onUpdate:modelValue":t[3]||(t[3]=o=>s.value.name=o),type:"text",required:"",placeholder:"e.g., No Code MBA",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},null,512),[[g,s.value.name]])]),e("div",null,[t[23]||(t[23]=e("label",{for:"description",class:"block text-sm font-semibold text-gray-700 mb-2"}," Offer Description (for AI Text Generation) * ",-1)),d(e("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=o=>s.value.description=o),rows:"8",required:"",placeholder:"Example: Learn to build profitable businesses without coding. This comprehensive course teaches no-code tools, business strategies, and how to launch MVPs in weeks. Perfect for entrepreneurs and side-hustlers who want to validate ideas fast.",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},null,512),[[g,s.value.description]]),t[24]||(t[24]=e("p",{class:"mt-2 text-sm text-indigo-600 bg-indigo-50 p-3 rounded-lg"}," ðŸ’¡ This description is used by the AI to generate promotional text. Be specific about the offer's value, target audience, and key benefits. ",-1))]),e("div",null,[t[25]||(t[25]=e("label",{for:"destination_url",class:"block text-sm font-semibold text-gray-700 mb-2"}," Destination URL * ",-1)),d(e("input",{id:"destination_url","onUpdate:modelValue":t[5]||(t[5]=o=>s.value.destination_url=o),type:"url",required:"",placeholder:"https://example.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},null,512),[[g,s.value.destination_url]]),t[26]||(t[26]=e("p",{class:"mt-1 text-xs text-gray-500"},"The URL where users will be directed",-1))]),e("div",null,[t[27]||(t[27]=e("label",{for:"affiliate_slug",class:"block text-sm font-semibold text-gray-700 mb-2"}," Affiliate Slug ",-1)),d(e("input",{id:"affiliate_slug","onUpdate:modelValue":t[6]||(t[6]=o=>s.value.affiliate_slug=o),type:"text",placeholder:"e.g., nocodemba",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},null,512),[[g,s.value.affiliate_slug]]),t[28]||(t[28]=e("p",{class:"mt-1 text-xs text-gray-500"},"Optional: Link slug (e.g., aidailypost.com/nocodemba)",-1))]),e("div",null,[t[30]||(t[30]=e("label",{for:"offer_type",class:"block text-sm font-semibold text-gray-700 mb-2"}," Offer Type * ",-1)),d(e("select",{id:"offer_type","onUpdate:modelValue":t[7]||(t[7]=o=>s.value.offer_type=o),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},[...t[29]||(t[29]=[e("option",{value:"affiliate"},"Affiliate - Partner product promotion",-1),e("option",{value:"review"},"Review - Reviewed product/service",-1),e("option",{value:"donation"},"Donation - Support our work",-1)])],512),[[c,s.value.offer_type]])]),e("div",null,[t[32]||(t[32]=e("label",{for:"status",class:"block text-sm font-semibold text-gray-700 mb-2"}," Status ",-1)),d(e("select",{id:"status","onUpdate:modelValue":t[8]||(t[8]=o=>s.value.status=o),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},[...t[31]||(t[31]=[e("option",{value:"draft"},"Draft - Not yet ready",-1),e("option",{value:"active"},"Active - Live and running",-1),e("option",{value:"paused"},"Paused - Temporarily disabled",-1)])],512),[[c,s.value.status]])]),e("div",te,[e("button",{type:"submit",disabled:p.value,class:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},n(p.value?"Creating...":"Create Offer"),9,oe),e("button",{type:"button",onClick:t[9]||(t[9]=o=>l.value=!1),class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all duration-200"}," Cancel ")])],32)])])])):_("",!0)])}}},ne=L(se,[["__scopeId","data-v-7b076c70"]]);export{ne as default};
