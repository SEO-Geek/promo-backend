import{s as V,r as c,l as F,c as a,b as e,i as M,j as N,e as P,k as j,d as h,w as A,f as p,v as B,p as f,a as G,g as S,t as n,n as w,F as D,m as z,q as g,o as l}from"./index-1760909825812.js";import{_ as U}from"./_plugin-vue_export-helper-1760909825812.js";const $={class:"space-y-6"},I={class:"flex items-center justify-between"},L={class:"flex items-center space-x-3"},H={class:"bg-white shadow rounded-lg p-6"},q={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},E={class:"flex justify-end"},R=["disabled"],W={key:0,class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={key:1,class:"animate-spin mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},K={class:"bg-white shadow rounded-lg p-6"},O={class:"text-lg font-medium text-gray-900 mb-4"},Q={key:0,class:"text-center py-8"},X={key:1,class:"text-center py-8"},Y={key:2,class:"space-y-4"},Z={class:"flex items-start justify-between mb-3"},ee={class:"flex items-center space-x-2"},te={class:"text-xs text-gray-500"},oe={class:"flex items-center space-x-2 text-xs text-gray-500"},se={class:"px-2 py-1 bg-gray-100 rounded"},re={class:"px-2 py-1 bg-gray-100 rounded"},ae={class:"mb-3 p-3 bg-gray-50 rounded-md"},ne={class:"text-sm text-gray-900 whitespace-pre-wrap"},le={class:"mb-3"},ie={class:"text-xs text-gray-500 italic"},de={class:"flex space-x-2"},ue=["onClick"],ce=["onClick"],pe=["onClick"],ge={__name:"TextGenerationView",setup(me){const m=V().params.id,i=c([]),v=c(!1),u=c(!1),d=c(null),r=c({prompt:"",tone:"professional",length:"medium",num_variations:2}),y=async()=>{v.value=!0;try{i.value=await g.text.getTexts(m)}catch(s){console.error("Failed to fetch texts:",s)}finally{v.value=!1}},k=async()=>{u.value=!0,d.value=null;try{const s=await g.text.generateText(m,r.value);d.value={type:"success",message:`Successfully generated ${s.variations.length} text variation(s)!`},await y(),r.value.prompt=""}catch(s){console.error("Failed to generate text:",s),d.value={type:"error",message:s.response?.data?.detail||"Failed to generate text. Please try again."}}finally{u.value=!1}},_=async s=>{try{await g.text.approveText(s);const t=i.value.find(x=>x.id===s);t&&(t.approved=!0)}catch(t){console.error("Failed to approve text:",t),alert("Failed to approve text. Please try again.")}},C=async s=>{try{await navigator.clipboard.writeText(s),alert("Text copied to clipboard!")}catch(t){console.error("Failed to copy text:",t),alert("Failed to copy text. Please try again.")}},T=async s=>{if(confirm("Are you sure you want to delete this text variation?"))try{await g.text.deleteText(s),i.value=i.value.filter(t=>t.id!==s)}catch(t){console.error("Failed to delete text:",t),alert("Failed to delete text. Please try again.")}};return F(()=>{y()}),(s,t)=>{const x=j("router-link");return l(),a("div",$,[e("div",I,[e("div",L,[M(x,{to:`/offers/${P(m)}`,class:"text-gray-400 hover:text-gray-600"},{default:N(()=>[...t[4]||(t[4]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["to"]),t[5]||(t[5]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Generate Text"),e("p",{class:"mt-1 text-sm text-gray-600"}," Create AI-generated promotional copy for newsletter ")],-1))])]),e("div",H,[t[16]||(t[16]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Text Generation Parameters",-1)),e("form",{onSubmit:A(k,["prevent"]),class:"space-y-4"},[e("div",null,[t[6]||(t[6]=e("label",{for:"prompt",class:"block text-sm font-medium text-gray-700"}," Content Brief * ",-1)),p(e("textarea",{id:"prompt","onUpdate:modelValue":t[0]||(t[0]=o=>r.value.prompt=o),rows:"4",required:"",placeholder:"Describe what you want the promotional text to say (e.g., 'Write engaging newsletter copy about a new AI course that helps beginners build real projects')",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[B,r.value.prompt]]),t[7]||(t[7]=e("p",{class:"mt-1 text-xs text-gray-500"},"Provide context and key points to include",-1))]),e("div",q,[e("div",null,[t[9]||(t[9]=e("label",{for:"tone",class:"block text-sm font-medium text-gray-700"}," Tone ",-1)),p(e("select",{id:"tone","onUpdate:modelValue":t[1]||(t[1]=o=>r.value.tone=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[...t[8]||(t[8]=[G('<option value="professional" data-v-326c101f>Professional</option><option value="casual" data-v-326c101f>Casual</option><option value="enthusiastic" data-v-326c101f>Enthusiastic</option><option value="informative" data-v-326c101f>Informative</option><option value="persuasive" data-v-326c101f>Persuasive</option>',5)])],512),[[f,r.value.tone]])]),e("div",null,[t[11]||(t[11]=e("label",{for:"length",class:"block text-sm font-medium text-gray-700"}," Length ",-1)),p(e("select",{id:"length","onUpdate:modelValue":t[2]||(t[2]=o=>r.value.length=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[...t[10]||(t[10]=[e("option",{value:"short"},"Short (50-100 words)",-1),e("option",{value:"medium"},"Medium (100-200 words)",-1),e("option",{value:"long"},"Long (200-300 words)",-1)])],512),[[f,r.value.length]])])]),e("div",null,[t[13]||(t[13]=e("label",{for:"num_variations",class:"block text-sm font-medium text-gray-700"}," Number of Variations ",-1)),p(e("select",{id:"num_variations","onUpdate:modelValue":t[3]||(t[3]=o=>r.value.num_variations=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[...t[12]||(t[12]=[e("option",{value:1},"1 variation",-1),e("option",{value:2},"2 variations",-1),e("option",{value:3},"3 variations",-1),e("option",{value:4},"4 variations",-1)])],512),[[f,r.value.num_variations,void 0,{number:!0}]])]),e("div",E,[e("button",{type:"submit",disabled:u.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},[u.value?(l(),a("svg",J,[...t[15]||(t[15]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),a("svg",W,[...t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])),S(" "+n(u.value?"Generating...":"Generate Text"),1)],8,R)])],32),d.value?(l(),a("div",{key:0,class:w(["mt-4 p-4 rounded-md",d.value.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"])},n(d.value.message),3)):h("",!0)]),e("div",K,[e("h3",O,"Generated Text ("+n(i.value.length)+")",1),v.value?(l(),a("div",Q,[...t[17]||(t[17]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),e("p",{class:"mt-2 text-sm text-gray-600"},"Loading text variations...",-1)])])):i.value.length===0?(l(),a("div",X,[...t[18]||(t[18]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-2 text-sm text-gray-600"},"No text generated yet",-1),e("p",{class:"text-xs text-gray-500"},"Use the form above to generate your first variations",-1)])])):(l(),a("div",Y,[(l(!0),a(D,null,z(i.value,o=>(l(),a("div",{key:o.id,class:"border border-gray-200 rounded-lg p-4 hover:border-indigo-300 transition-colors duration-200"},[e("div",Z,[e("div",ee,[e("span",te,"ID: "+n(o.id),1),e("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",o.approved?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},n(o.approved?"Approved":"Draft"),3)]),e("div",oe,[e("span",se,n(o.tone||"N/A"),1),e("span",re,n(o.length||"N/A"),1),e("span",null,n(o.generated_text?.split(" ").length||0)+" words",1)])]),e("div",ae,[e("p",ne,n(o.generated_text),1)]),e("div",le,[e("p",ie,"Prompt: "+n(o.prompt),1)]),e("div",de,[o.approved?h("",!0):(l(),a("button",{key:0,onClick:b=>_(o.id),class:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200"}," Approve ",8,ue)),e("button",{onClick:b=>C(o.generated_text),class:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200"}," Copy ",8,ce),e("button",{onClick:b=>T(o.id),class:"px-3 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200"}," Delete ",8,pe)])]))),128))]))])])}}},ye=U(ge,[["__scopeId","data-v-326c101f"]]);export{ye as default};
